# 블록체인 및 정보보호론강의

참고 영상 : [**박승철의블록체인및정보보호론강의**](https://www.youtube.com/
channel/UCK4MAqRJDocx
D7Rgxnt3dMg/videos)



## 12강 이더리움블록체굴과 합의 프로토콜(1)

### 목적

- 누구나 블록 생성자로 참여가능
- 채굴자들의 합의로 거래들이 블록체인에 저장되는 순서를 정의하고, 동기화된 블록체인 유지를 보장



### 기본 정책

- 작업증명 기반의 블록 생성
- 채굴자에게 블록 인센티브 지불

- 가장 긴 체인을 정상적인 블록체인으로 선택



### 설계 목표

- 거래 승인 성능 향상
  - 10초단위의 블록 생성
- 작업 증명 자원 낭비 축소
  - 수정 GHOST 프로토콜
- 채굴 역량 집중화 방지
  - 메모리 하드 형 Ethash 작업 증명 알고리즘



### 블록 생성 간격

- 블록 생성 간격과 난이도 조절
  - 블록 생성 간격이 10 ~ 19초 이내가 되도록 조정
  - 부모 블록과의 시간 간격이 9초 이하이면 난이도 상향
  - 20초 이상이면 난이도 하향 조정
- 짧은 블록 생성 간격의 문제점
  - 블록 전달 지연 시간 비중이 커짐
  - 블록 전달 시간 동안 생성되는 부실 블록 발생률 상승
- 부실 블록
  - 적합하게 생성된 블록이지만 다른 채굴자에 의해 생성된 블록과의 승인 경쟁에서 패배하며 메인 체인에 포함되지 못하고 브랜치에 연결된 블록
  - 문제점
    - 채굴 역량이 높은 채굴자가 다음 블록 채굴 조기에 개시 확률이 높음
    - 채굴 역량 집중화 심화 초래하여 네트워크 안전성 훼손



### GHOST 프로토콜

- 비트코인 => 최장 길이 체인을 메인 체인으로 선택
- 이더리움 => 가장 무거운 서브트리의 최장 길이 체인을 메인 체인으로 선택
  - 부실 블록이 블록 체인 조작 방지에 기여



### 이더리움의 수정 GHOST 프로토콜

- 최장 체인 대신 GHOST 프로토몰을 기본적으로 채택
- 삼촌블록 : 수정 GHOST 프로토콜에서 포함하는 부실블록

1. 새로운 블록은 부모블록을 지정하여야 하고 0 ~ 2개의 삼촌블록을 포함할 수 있다
2. 새로운 블록에 포함되는 삼촌 블록은 2대의 부모 블록 부터 시작하여 7대 까지의 조상 블록에 직접연결된 자식블록이다
3. 삼촌블록은 새로운 블록의 조상블록이 아니다
4. 삼촌블록은 적합한 블록 헤더를 가져야 한다
5. 삼촌블록은 이전 블록에 포함된 블록이 아니어야 하고 같은 블록에 포함된 다른 블록과 동일하지 않아야 한다
6. 삼촌 블록의 채굴자와 삼촌 블록을 포함시키는 블록의 채굴자는 그에 따른 소정의 블록 인센티브를 지불 받는다